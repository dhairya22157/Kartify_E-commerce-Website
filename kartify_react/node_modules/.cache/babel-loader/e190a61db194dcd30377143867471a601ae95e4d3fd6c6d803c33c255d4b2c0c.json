{"ast":null,"code":"import axios from \"axios\";\nimport { USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGIN_FAIL, USER_SIGNUP_REQUEST, USER_SIGNUP_FAIL, USER_SIGNUP_SUCCESS, USER_LOGOUT } from \"../Constants/userConstants\";\nexport const signup = (fname, email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: USER_SIGNUP_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/register/', {\n      'fname': fname,\n      'email': email,\n      'password': password\n    }, config);\n    dispatch({\n      type: USER_SIGNUP_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: USER_SIGNUP_FAIL,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const login = (email, password) => async dispatch => {\n  try {\n    dispatch({\n      type: USER_LOGIN_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/login/', {\n      'username': email,\n      'password': password\n    }, config);\n    dispatch({\n      type: USER_LOGIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_LOGIN_FAIL,\n      payload: error.response && error.response.data.detail ? error.response.data.detail : error.message\n    });\n  }\n};\nexport const logout = () => dispatch => {\n  localStorage.removeItem('userInfo');\n  dispatch({\n    type: USER_LOGOUT\n  });\n};","map":{"version":3,"names":["axios","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGIN_FAIL","USER_SIGNUP_REQUEST","USER_SIGNUP_FAIL","USER_SIGNUP_SUCCESS","USER_LOGOUT","signup","fname","email","password","dispatch","type","config","headers","data","post","payload","error","response","detail","message","login","localStorage","setItem","JSON","stringify","logout","removeItem"],"sources":["C:/Users/dhair/OneDrive/Documents/Desktop/2 year/4 semester/DBMS/Kartify_E-Commerce-Website-main/kartify_react/src/Components/Actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGIN_FAIL,\r\n    USER_SIGNUP_REQUEST, USER_SIGNUP_FAIL, USER_SIGNUP_SUCCESS,\r\n    USER_LOGOUT} from \"../Constants/userConstants\"\r\n\r\nexport const signup = (fname, email, password) => async(dispatch) => {\r\n    try{\r\n        dispatch({\r\n            type:USER_SIGNUP_REQUEST\r\n        })\r\n        const config={\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            }\r\n        }\r\n        const {data} = await axios.post('/register/',\r\n        {\r\n            'fname':fname,\r\n            'email':email,\r\n            'password':password\r\n        }, config)\r\n        dispatch({\r\n            type:USER_SIGNUP_SUCCESS,\r\n            payload:data\r\n        })\r\n    }\r\n    catch (error){\r\n        dispatch({\r\n            type:USER_SIGNUP_FAIL,\r\n            payload:error.response && error.response.data.detail \r\n            ? error.response.data.detail : error.message, \r\n        })\r\n    }\r\n}\r\n\r\nexport const login = (email, password) => async(dispatch) => {\r\n    try{\r\n        dispatch({\r\n            type:USER_LOGIN_REQUEST\r\n        })\r\n        const config={\r\n            headers:{\r\n                'Content-type':'application/json'\r\n            }\r\n        }\r\n        const {data} = await axios.post('/login/',\r\n        {\r\n            'username':email,\r\n            'password':password\r\n        }, config)\r\n        dispatch({\r\n            type:USER_LOGIN_SUCCESS,\r\n            payload:data\r\n        })\r\n        localStorage.setItem('userInfo',JSON.stringify(data)) \r\n        \r\n    }\r\n    catch (error){\r\n        dispatch({\r\n            type:USER_LOGIN_FAIL,\r\n            payload:error.response && error.response.data.detail \r\n            ? error.response.data.detail : error.message, \r\n        })\r\n    }\r\n}\r\n\r\nexport const logout=() =>(dispatch) => {\r\n    localStorage.removeItem('userInfo')\r\n    dispatch({type:USER_LOGOUT})\r\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,kBAAkB,EAAEC,kBAAkB,EAAEC,eAAe,EAC3DC,mBAAmB,EAAEC,gBAAgB,EAAEC,mBAAmB,EAC1DC,WAAW,QAAO,4BAA4B;AAElD,OAAO,MAAMC,MAAM,GAAGA,CAACC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,KAAK,MAAMC,QAAQ,IAAK;EACjE,IAAG;IACCA,QAAQ,CAAC;MACLC,IAAI,EAACT;IACT,CAAC,CAAC;IACF,MAAMU,MAAM,GAAC;MACTC,OAAO,EAAC;QACJ,cAAc,EAAC;MACnB;IACJ,CAAC;IACD,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,YAAY,EAC5C;MACI,OAAO,EAACR,KAAK;MACb,OAAO,EAACC,KAAK;MACb,UAAU,EAACC;IACf,CAAC,EAAEG,MAAM,CAAC;IACVF,QAAQ,CAAC;MACLC,IAAI,EAACP,mBAAmB;MACxBY,OAAO,EAACF;IACZ,CAAC,CAAC;EACN,CAAC,CACD,OAAOG,KAAK,EAAC;IACTP,QAAQ,CAAC;MACLC,IAAI,EAACR,gBAAgB;MACrBa,OAAO,EAACC,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,GAClDF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,GAAGF,KAAK,CAACG;IACzC,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGA,CAACb,KAAK,EAAEC,QAAQ,KAAK,MAAMC,QAAQ,IAAK;EACzD,IAAG;IACCA,QAAQ,CAAC;MACLC,IAAI,EAACZ;IACT,CAAC,CAAC;IACF,MAAMa,MAAM,GAAC;MACTC,OAAO,EAAC;QACJ,cAAc,EAAC;MACnB;IACJ,CAAC;IACD,MAAM;MAACC;IAAI,CAAC,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,SAAS,EACzC;MACI,UAAU,EAACP,KAAK;MAChB,UAAU,EAACC;IACf,CAAC,EAAEG,MAAM,CAAC;IACVF,QAAQ,CAAC;MACLC,IAAI,EAACX,kBAAkB;MACvBgB,OAAO,EAACF;IACZ,CAAC,CAAC;IACFQ,YAAY,CAACC,OAAO,CAAC,UAAU,EAACC,IAAI,CAACC,SAAS,CAACX,IAAI,CAAC,CAAC;EAEzD,CAAC,CACD,OAAOG,KAAK,EAAC;IACTP,QAAQ,CAAC;MACLC,IAAI,EAACV,eAAe;MACpBe,OAAO,EAACC,KAAK,CAACC,QAAQ,IAAID,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,GAClDF,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,MAAM,GAAGF,KAAK,CAACG;IACzC,CAAC,CAAC;EACN;AACJ,CAAC;AAED,OAAO,MAAMM,MAAM,GAACA,CAAA,KAAMhB,QAAQ,IAAK;EACnCY,YAAY,CAACK,UAAU,CAAC,UAAU,CAAC;EACnCjB,QAAQ,CAAC;IAACC,IAAI,EAACN;EAAW,CAAC,CAAC;AAChC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}